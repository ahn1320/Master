<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core">
   <head><title>IGNORED</title></head>
   <body>
      <ui:composition template="/templates/masterLayout.xhtml">
         <ui:define name="windowTitle">
            #{msgs.employees_title}
         </ui:define> 
         
         <ui:define name="content">
	   <h:form>
         <h3>#{msgs.employees_header}</h3>   
         <h:dataTable value="#{employeeDatabase.employees}" var="employee"
                      captionStyle="font-size: 0.95em; font-style:italic"
                      style="width: 250px;" border = "1">
			<h:column headerClass="columnHeader" footerClass="columnFooter">
               <f:facet name="header">#{msgs.employees_edit}</f:facet>
               <h:selectBooleanCheckbox rendered="#{employeeDatabase.isSuperUser}" value="#{employee.editable}" onclick="submit()"/>
            </h:column>
            <h:column headerClass="columnHeader" footerClass="columnFooter">
               <f:facet name="header">#{msgs.employees_name}</f:facet>
				<h:inputText value="#{employee.name}" rendered="#{employee.editable}" 
                            size="10"/>
               <h:outputText value="#{employee.name}" rendered="#{not employee.editable}"/>
               
            </h:column>

            <h:column headerClass="columnHeader" footerClass="columnFooter">
               <f:facet name="header">#{msgs.employees_empNum}</f:facet>

               <!-- <h:inputText value="#{employee.empNumber}" rendered="#{employee.editable}" 
                            size="10"/>
               <h:outputText value="#{employee.empNumber}" rendered="#{not employee.editable}"/> -->
               <h:outputText value="#{employee.empNumber}"/>
               
            </h:column>
            
            <h:column headerClass="columnHeader" footerClass="columnFooter">
               <f:facet name="header">#{msgs.employees_username}</f:facet>

              <!-- <h:inputText value="#{employee.userName}" rendered="#{employee.editable}" 
                            size="10"/>
               <h:outputText value="#{employee.userName}" rendered="#{not employee.editable}"/> -->
               <h:outputText value="#{employee.userName}"/>

            </h:column>
            <h:column>
               <h:commandLink value="#{msgs.link_delete}" rendered="#{employeeDatabase.isSuperUser}"
                              action="#{employeeDatabase.deleteEmployee(employee)}"/>
            </h:column>
            <h:column>
               <h:commandLink value="#{msgs.link_changePassword}" rendered="#{employeeDatabase.isSuperUser}"
                              action="#{employeeDatabase.changeEmployeePassword(employee)}"/>
            </h:column>
         </h:dataTable>
         <p><h:commandButton value="#{msgs.btn_back}" action="options"/></p>
         
         <p><h:commandButton value="#{msgs.btn_add}" action="#{employeeDatabase.goToAddEmployeePage}" rendered="#{employeeDatabase.isSuperUser}"/></p>
         <h:outputText rendered="#{not employeeDatabase.canAddEmployees}" styleClass="loginError" value="Only an administrator can add new employees"/>
         <p><h:commandButton value="#{msgs.btn_save}" action="#{employeeDatabase.save}" rendered="#{employeeDatabase.isSuperUser}"/></p>
         <p><h:commandButton value="#{msgs.btn_saveChanges}" action="#{employeeDatabase.saveChanges}" rendered="#{employeeDatabase.isSuperUser}"/></p>

      </h:form>
         </ui:define>
      </ui:composition>
   </body>
</html>