<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:p="http://primefaces.org/ui">
<h:head>
    
</h:head>
<h:form>
    <p:tree value="#{treeController.projectTree.root}" var="node" dynamic="true" orientation="vertical"
                selectionMode="single" selection="#{treeController.projectTree.singleSelectedTreeNode}">
        <p:treeNode expandedIcon="ui-icon ui-icon-folder-open"
                        collapsedIcon="ui-icon ui-icon-folder-collapsed">
            <h:outputText value="#{node.wpID} #{node.wpName}"/>
        </p:treeNode>
        <p:treeNode type="document" icon="ui-icon ui-icon-document">
            <h:outputText value="#{node}"/>
        </p:treeNode>
        <p:treeNode type="image" icon="ui-icon ui-icon-image">
            <h:outputText value="#{node}"/>
        </p:treeNode>                 
        <p:treeNode type="video" icon="ui-icon ui-icon-video">
            <h:outputText value="#{node}"/>
        </p:treeNode>
        <p:ajax event="select" listener="#{treeManagedBean.onNodeSelect}"></p:ajax>
        <p:ajax event="unselect" listener="#{treeManagedBean.onNodeUnSelect}"></p:ajax>
        <p:ajax event="expand" listener="#{treeManagedBean.onNodeExpand}"></p:ajax>
        <p:ajax event="collapse" listener="#{treeManagedBean.onNodeCollapse}"></p:ajax>                                 
    </p:tree>
    <h:commandButton value="View Work Package Details" actionListener="#{treeController.showWorkPackageDetails()}"/>
    <br />
    <h:commandButton value="Go Back" action="#{treeController.leaveTreePage()}"></h:commandButton>
    <br />
    <br />
    <h:outputText value="THIS IS THE WORK PACKAGE: #{treeController.selectedWP.wpName}" />
</h:form>
</html>