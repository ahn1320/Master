<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:b="http://bootsfaces.net/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core">
<h:head>
	<title>Work Packages</title>

</h:head>
<h:body>
	<ui:composition template="/templates/masterLayout.xhtml">
		<ui:define name="content">
			<h:form>
				<b:panel look="info"
					title="Assigned Work Packages for: #{timesheetValidatorController.currentEmployee.firstName} #{timesheetValidatorController.currentEmployee.lastName}"
					collapsible="false">
					<b:dataTable
						value="#{workPackageController.empWP}"
						var="ewp">
						<h:column>
							<f:facet name="header">Project Name</f:facet>
							<h:outputText value="#{ewp.wp.workingProject.projectName}" />
						</h:column>

						<h:column>
							<f:facet name="header">Work Package ID</f:facet>
							<h:outputText value="#{ewp.wp.wpID}" />
						</h:column>

						<h:column>
							<f:facet name="header">Work Package Name</f:facet>
							<h:outputText value="#{ewp.wp.wpName}" />
						</h:column>
					</b:dataTable>
				</b:panel>
			</h:form>
			<br />
			<h:form>
				<b:panel look="info" title="Work Packages Responsible for:"
					collapsible="false">
					<b:dataTable
						value="#{workPackageController.resonsibleWPs}"
						var="wp">
						
						<h:column>
							<f:facet name="header">Project Name</f:facet>
							<h:outputText value="#{wp.workingProject.projectName}" />
						</h:column>

						<h:column>
							<f:facet name="header">Work Package ID</f:facet>
							<h:outputText value="#{wp.wpID}" />
						</h:column>

						<h:column>
							<f:facet name="header">Work Package Name</f:facet>
							<h:outputText value="#{wp.wpName}" />
						</h:column>
						
						<h:column>
							<f:facet name="header">Budgeted Man Days</f:facet>
							<h:outputText value="#{wp.totalBudgetDays}" />
						</h:column>
						
						<h:column>
							<f:facet name="header">Budgeted Cost</f:facet>
							<h:outputText value="#{wp.totalBudgetCost}" >
								<f:convertNumber type="currency" currencySymbol="$" />
							</h:outputText>
						</h:column>
						
						<h:column>
							<f:facet name="header">
								<h:outputText value="Weekly Report" style="font-weight: bold" />
							</f:facet>
							<h:commandLink value="Fill Out Report"
								action="#{weekly.showWeeklyReport(wp)}" />
						</h:column>

					</b:dataTable>
				</b:panel>
			</h:form>
			<h:form>
				<br />
				<h:commandButton value="Back"
					action="#{weekly.goBack()}"></h:commandButton>
			</h:form>
		</ui:define>
	</ui:composition>
</h:body>
</html>