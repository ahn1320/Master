<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:b="http://bootsfaces.net/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core">
<head>
<title>Vacation</title>
</head>
<h:body>
	<ui:composition template="/templates/masterLayout.xhtml">
		<ui:define name="windowTitle">
         Vacation Landing Page
	</ui:define>
		<ui:define name="backBtn">
			<h:commandLink action="#{vacation.goBack()}">
				<span class="icomoon-circle-left backBtn-ico"></span>
				<span class="backBtn-txt">Go Back</span>
			</h:commandLink>
			<br /><br />
		</ui:define>
		
		<ui:define name="content">
			<b:panel look="info" title="Employee Details" collapsible="false">
				<h3 class="panel-title test">
					<strong>Employee Name: </strong>
					<h:outputText value=" #{login.currentUser.firstName} #{login.currentUser.lastName}" />
					<br /> <strong>Total days allowed: </strong>
					<h:outputText value=" #{vacation.totalDaysAllowed}" />
					<br /> <strong>Total days remaining: </strong>
					<h:outputText value=" #{vacation.daysRemaining}" />
				</h3>
			</b:panel>


			<h:form>
				<b:panel look="info" title="Vacation Request History"
					collapsible="false">
					<b:dataTable value="#{vacation.vacayArray}" var="v">
						<h:column>
							<f:facet name="header">Date</f:facet>
							<h:outputText value="#{v.requestDate}" >
								<f:convertDateTime pattern="yyyy-MM-dd" />
							</h:outputText>
						</h:column>
						<h:column>
							<f:facet name="header">Number of Days Requested</f:facet>
							<h:outputText value="#{v.vacationDaysLeft}" />
						</h:column>
						<h:column>
							<f:facet name="header">Approved</f:facet>
							<h:outputText value="#{v.approvalStatus}" />
						</h:column>

					</b:dataTable>
					<h:commandButton value="New Vacation Request"
						action="requestVacation.xhtml" styleClass="btn btn-info"></h:commandButton>
				</b:panel>
			</h:form>

		</ui:define>
	</ui:composition>
</h:body>
</html>