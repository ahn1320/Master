<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core">
   <head><title>IGNORED</title></head>
   <body>
      <ui:composition template="/templates/masterLayout.xhtml">
         <ui:define name="windowTitle">
            #{msgs.options_title}
         </ui:define> 
         
         <ui:define name="content">
	    <h:form>
      <p>Name: #{timesheetDatabase.loggedEmployee.name}</p>
      <p>Employee Number: #{timesheetDatabase.loggedEmployee.empNumber}</p>
      <p>End Week: #{timesheetDatabase.viewableTimesheet.getWeekEnding()}</p>
      <p>Week Number: #{timesheetDatabase.viewableTimesheet.getWeekNumber()}</p>
      <h:dataTable value="#{timesheetDatabase.viewableTimesheet.details}" var="timesheets"
                      captionStyle="font-size: 0.95em; font-style:italic"
                      style="width: 250px;" border = "1">
             <h:column headerClass="columnHeader" footerClass="columnFooter">
               <f:facet name="header">Edit</f:facet>
               <h:selectBooleanCheckbox rendered="#{timesheetDatabase.editableTimesheet}"  value="#{timesheets.editable}" onclick="submit()"/>
            </h:column>
            <h:column headerClass="columnHeader" footerClass="columnFooter">
               <f:facet name="header">Project</f:facet>
               <h:inputText value="#{timesheets.projectID}" rendered = "#{timesheets.editable}" size="10" />
               <h:outputText value="#{timesheets.projectID}" rendered="#{not timesheets.editable}" size="10"/>
               <f:facet name="footer">Total</f:facet>
            </h:column>

            <h:column headerClass="columnHeader" footerClass="columnFooter">
               <f:facet name="header">WP</f:facet>
				<h:inputText value="#{timesheets.workPackage}" rendered = "#{timesheets.editable}" size="10"/>
				<h:outputText value="#{timesheets.workPackage}" rendered="#{not timesheets.editable}" size="10"/>
            </h:column>
            
            <h:column headerClass="columnHeader" footerClass="columnFooter">
               <f:facet name="header">Total</f:facet>
				<h:outputText value="#{timesheets.sum}" size="10"/>
				
				<f:facet name="footer">
				<h:outputText value="#{timesheetDatabase.viewableTimesheet.sum}" size="10"/>
				</f:facet>
            </h:column>
            <h:column headerClass="columnHeader" footerClass="columnFooter">
               <f:facet name="header">Sat</f:facet>
				<h:inputText value="#{timesheets.hoursForWeek[0]}" rendered = "#{timesheets.editable}" size="10"/>
				<h:outputText value="#{timesheets.hoursForWeek[0]}" rendered="#{not timesheets.editable}" size="10"/>
				
				<f:facet name="footer">
				<h:outputText value="#{timesheetDatabase.viewableTimesheet.sums[0]}" size="10"/>
				</f:facet>
            </h:column>
            <h:column headerClass="columnHeader" footerClass="columnFooter">
               <f:facet name="header">Sun</f:facet>

				<h:inputText value="#{timesheets.hoursForWeek[1]}" rendered="#{timesheets.editable}" size="10"/>
				<h:outputText value="#{timesheets.hoursForWeek[1]}" rendered="#{not timesheets.editable}" size="10"/>
				
				<f:facet name="footer">
				<h:outputText value="#{timesheetDatabase.viewableTimesheet.sums[1]}" size="10"/>
				</f:facet>
            </h:column>
            <h:column headerClass="columnHeader" footerClass="columnFooter">
               <f:facet name="header">Mon</f:facet>

				<h:inputText value="#{timesheets.hoursForWeek[2]}" rendered="#{timesheets.editable}" size="10"/>
				<h:outputText value="#{timesheets.hoursForWeek[2]}" rendered="#{not timesheets.editable}" size="10"/>
				
				<f:facet name="footer">
				<h:outputText value="#{timesheetDatabase.viewableTimesheet.sums[2]}" size="10"/>
				</f:facet>
            </h:column>
            <h:column headerClass="columnHeader" footerClass="columnFooter">
               <f:facet name="header">Tue</f:facet>

				<h:inputText value="#{timesheets.hoursForWeek[3]}" rendered="#{timesheets.editable}" size="10"/>
				<h:outputText value="#{timesheets.hoursForWeek[3]}" rendered="#{not timesheets.editable}" size="10"/>
				
				<f:facet name="footer">
				<h:outputText value="#{timesheetDatabase.viewableTimesheet.sums[3]}" size="10"/>
				</f:facet>
            </h:column>
            <h:column headerClass="columnHeader" footerClass="columnFooter">
               <f:facet name="header">Wed</f:facet>

				<h:inputText value="#{timesheets.hoursForWeek[4]}" rendered="#{timesheets.editable}" size="10"/>
				<h:outputText value="#{timesheets.hoursForWeek[4]}" rendered="#{not timesheets.editable}" size="10"/>
				
				<f:facet name="footer">
				<h:outputText value="#{timesheetDatabase.viewableTimesheet.sums[4]}" size="10"/>
				</f:facet>
            </h:column>
            <h:column headerClass="columnHeader" footerClass="columnFooter">
               <f:facet name="header">Thu</f:facet>

				<h:inputText value="#{timesheets.hoursForWeek[5]}" rendered="#{timesheets.editable}" size="10"/>
				<h:outputText value="#{timesheets.hoursForWeek[5]}" rendered="#{not timesheets.editable}" size="10"/>
				
				<f:facet name="footer">
				<h:outputText value="#{timesheetDatabase.viewableTimesheet.sums[5]}" size="10"/>
				</f:facet>
            </h:column>
            <h:column headerClass="columnHeader" footerClass="columnFooter">
               <f:facet name="header">Fri</f:facet>

				<h:inputText value="#{timesheets.hoursForWeek[6]}" rendered="#{timesheets.editable}" size="10"/>
				<h:outputText value="#{timesheets.hoursForWeek[6]}" rendered="#{not timesheets.editable}" size="10"/>
				
				<f:facet name="footer">
				<h:outputText value="#{timesheetDatabase.viewableTimesheet.sums[6]}" size="10"/>
				</f:facet>
            </h:column>
            <h:column headerClass="columnHeader" footerClass="columnFooter">
               <f:facet name="header">Notes</f:facet>

				<h:inputText value="#{timesheets.notes}" size="20" rendered="#{timesheets.editable}"/>
				<h:outputText value="#{timesheets.notes}" rendered="#{not timesheets.editable}" size="20"/>
            </h:column>
            <h:column headerClass="columnHeader" footerClass="columnFooter">
			<h:commandLink value="Delete" rendered="#{timesheetDatabase.editableTimesheet}"
                              action="#{timesheetDatabase.deleteTimesheetRow(timesheets)}"/>
            </h:column>
         </h:dataTable>
         <p><h:commandButton value="Back" action="#{timesheetDatabase.goBackFromTimesheets}"/></p>
         <p><h:commandButton value="Add Row" rendered="#{timesheetDatabase.editableTimesheet}" action="#{timesheetDatabase.addNewTimesheetRow(timesheetDatabase.viewableTimesheet)}"/></p>
         <p><h:commandButton value="Save" action="#{timesheetDatabase.viewableTimesheet.save}" rendered="#{timesheetDatabase.editableTimesheet}" /></p>
         <p><h:commandButton value="Submit New Timesheet" action="#{timesheetDatabase.saveTimesheet(timesheets)}" rendered="#{timesheetDatabase.createNewTimesheet}"/></p>
         <p><h:commandButton value="Update Timesheet" action="#{timesheetDatabase.updateTimesheetRow(timesheetDatabase.viewableTimesheet)}" rendered="#{timesheetDatabase.createNewTimesheet == false and timesheetDatabase.editableTimesheet == true}"/></p>
      </h:form>
         </ui:define>
      </ui:composition>
   </body>
</html>